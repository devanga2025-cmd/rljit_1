import React, { createContext, useContext, useState } from "react";

type Lang = "en" | "kn" | "hi";

const translations: Record<string, Record<Lang, string>> = {
  "app.title": { en: "Care4Mom & Baby", kn: "à²•à³‡à²°à³4à²®à²¾à²®à³ & à²¬à³‡à²¬à²¿", hi: "à¤•à¥‡à¤¯à¤°4à¤®à¥‰à¤® à¤à¤‚à¤¡ à¤¬à¥‡à¤¬à¥€" },
  "app.tagline": { en: "Digital Pregnancy & Family Support System for Safe Motherhood", kn: "à²¸à³à²°à²•à³à²·à²¿à²¤ à²®à²¾à²¤à³ƒà²¤à³à²µà²•à³à²•à²¾à²—à²¿ à²¡à²¿à²œà²¿à²Ÿà²²à³ à²—à²°à³à²­à²§à²¾à²°à²£à³† à²®à²¤à³à²¤à³ à²•à³à²Ÿà³à²‚à²¬ à²¬à³†à²‚à²¬à²² à²µà³à²¯à²µà²¸à³à²¥à³†", hi: "à¤¸à¥à¤°à¤•à¥à¤·à¤¿à¤¤ à¤®à¤¾à¤¤à¥ƒà¤¤à¥à¤µ à¤•à¥‡ à¤²à¤¿à¤ à¤¡à¤¿à¤œà¤¿à¤Ÿà¤² à¤—à¤°à¥à¤­à¤¾à¤µà¤¸à¥à¤¥à¤¾ à¤”à¤° à¤ªà¤¾à¤°à¤¿à¤µà¤¾à¤°à¤¿à¤• à¤¸à¤¹à¤¾à¤¯à¤¤à¤¾ à¤ªà¥à¤°à¤£à¤¾à¤²à¥€" },
  "role.select": { en: "Select Your Role", kn: "à²¨à²¿à²®à³à²® à²ªà²¾à²¤à³à²°à²µà²¨à³à²¨à³ à²†à²¯à³à²•à³† à²®à²¾à²¡à²¿", hi: "à¤…à¤ªà¤¨à¥€ à¤­à¥‚à¤®à¤¿à¤•à¤¾ à¤šà¥à¤¨à¥‡à¤‚" },
  "role.mother": { en: "Mother Login / Register", kn: "à²¤à²¾à²¯à²¿ à²²à²¾à²—à²¿à²¨à³ / à²¨à³‹à²‚à²¦à²£à²¿", hi: "à¤®à¤¾à¤ à¤²à¥‰à¤—à¤¿à¤¨ / à¤°à¤œà¤¿à¤¸à¥à¤Ÿà¤°" },
  "role.father": { en: "Father / Family Login", kn: "à²¤à²‚à²¦à³† / à²•à³à²Ÿà³à²‚à²¬ à²²à²¾à²—à²¿à²¨à³", hi: "à¤ªà¤¿à¤¤à¤¾ / à¤ªà¤°à¤¿à¤µà¤¾à¤° à¤²à¥‰à¤—à¤¿à¤¨" },
  "role.worker": { en: "Anganwadi / Health Worker Login", kn: "à²…à²‚à²—à²¨à²µà²¾à²¡à²¿ / à²†à²°à³‹à²—à³à²¯ à²•à²¾à²°à³à²¯à²•à²°à³à²¤ à²²à²¾à²—à²¿à²¨à³", hi: "à¤†à¤‚à¤—à¤¨à¤µà¤¾à¤¡à¤¼à¥€ / à¤¸à¥à¤µà¤¾à¤¸à¥à¤¥à¥à¤¯ à¤•à¤¾à¤°à¥à¤¯à¤•à¤°à¥à¤¤à¤¾ à¤²à¥‰à¤—à¤¿à¤¨" },
  "emergency": { en: "Emergency 108", kn: "à²¤à³à²°à³à²¤à³ 108", hi: "à¤†à¤ªà¤¾à¤¤à¤•à¤¾à¤²à¥€à¤¨ 108" },
  "dashboard": { en: "Dashboard", kn: "à²¡à³à²¯à²¾à²¶à³â€Œà²¬à³‹à²°à³à²¡à³", hi: "à¤¡à¥ˆà¤¶à¤¬à¥‹à¤°à¥à¤¡" },
  "back": { en: "Back to Home", kn: "à²®à²¨à³†à²—à³† à²¹à²¿à²‚à²¤à²¿à²°à³à²—à²¿", hi: "à¤¹à¥‹à¤® à¤ªà¤° à¤µà¤¾à¤ªà¤¸ à¤œà¤¾à¤à¤‚" },
  "pregnancy.week": { en: "Pregnancy Week", kn: "à²—à²°à³à²­à²§à²¾à²°à²£à³† à²µà²¾à²°", hi: "à¤—à¤°à¥à¤­à¤¾à¤µà¤¸à¥à¤¥à¤¾ à¤¸à¤ªà¥à¤¤à¤¾à¤¹" },
  "due.date": { en: "Due Date", kn: "à²¨à²¿à²—à²¦à²¿à²¤ à²¦à²¿à²¨à²¾à²‚à²•", hi: "à¤¨à¤¿à¤¯à¤¤ à¤¤à¤¾à¤°à¥€à¤–" },
  "risk.status": { en: "Risk Status", kn: "à²…à²ªà²¾à²¯ à²¸à³à²¥à²¿à²¤à²¿", hi: "à¤œà¥‹à¤–à¤¿à¤® à¤¸à¥à¤¥à¤¿à¤¤à¤¿" },
  "next.anc": { en: "Next ANC Visit", kn: "à²®à³à²‚à²¦à²¿à²¨ ANC à²­à³‡à²Ÿà²¿", hi: "à¤…à¤—à¤²à¥€ ANC à¤µà¤¿à¤œà¤¼à¤¿à¤Ÿ" },
  "mcp.card": { en: "Digital MCP (Taayi) Card", kn: "à²¡à²¿à²œà²¿à²Ÿà²²à³ MCP (à²¤à²¾à²¯à²¿) à²•à²¾à²°à³à²¡à³", hi: "à¤¡à¤¿à¤œà¤¿à¤Ÿà¤² MCP (à¤¤à¤¾à¤¯à¥€) à¤•à¤¾à¤°à¥à¤¡" },
  "nutrition": { en: "Nutrition & Care", kn: "à²ªà³‹à²·à²£à³† à²®à²¤à³à²¤à³ à²†à²°à³ˆà²•à³†", hi: "à¤ªà¥‹à¤·à¤£ à¤”à¤° à¤¦à¥‡à¤–à¤­à¤¾à¤²" },
  "danger.signs": { en: "Danger Signs", kn: "à²…à²ªà²¾à²¯ à²šà²¿à²¹à³à²¨à³†à²—à²³à³", hi: "à¤–à¤¤à¤°à¥‡ à¤•à¥‡ à¤¸à¤‚à¤•à¥‡à¤¤" },
  "schemes": { en: "Government Schemes", kn: "à²¸à²°à³à²•à²¾à²°à²¿ à²¯à³‹à²œà²¨à³†à²—à²³à³", hi: "à¤¸à¤°à¤•à¤¾à¤°à¥€ à¤¯à¥‹à¤œà¤¨à¤¾à¤à¤‚" },
  "family.support": { en: "Family & Support", kn: "à²•à³à²Ÿà³à²‚à²¬ à²®à²¤à³à²¤à³ à²¬à³†à²‚à²¬à²²", hi: "à¤ªà¤°à¤¿à¤µà¤¾à¤° à¤”à¤° à¤¸à¤¹à¤¾à¤¯à¤¤à¤¾" },
  "support.tasks": { en: "Support Tasks", kn: "à²¬à³†à²‚à²¬à²² à²•à²¾à²°à³à²¯à²—à²³à³", hi: "à¤¸à¤¹à¤¾à¤¯à¤¤à¤¾ à¤•à¤¾à¤°à¥à¤¯" },
  "weekly.guidance": { en: "Weekly Father Guidance", kn: "à²¸à²¾à²ªà³à²¤à²¾à²¹à²¿à²• à²¤à²‚à²¦à³† à²®à²¾à²°à³à²—à²¦à²°à³à²¶à²¨", hi: "à¤¸à¤¾à¤ªà¥à¤¤à¤¾à¤¹à¤¿à¤• à¤ªà¤¿à¤¤à¤¾ à¤®à¤¾à¤°à¥à¤—à¤¦à¤°à¥à¤¶à¤¨" },
  "mother.registry": { en: "Mother Registry", kn: "à²¤à²¾à²¯à²¿ à²¨à³‹à²‚à²¦à²£à²¿", hi: "à¤®à¤¾à¤¤à¤¾ à¤°à¤œà¤¿à¤¸à¥à¤Ÿà¥à¤°à¥€" },
  "high.risk": { en: "High Risk Alerts", kn: "à²¹à³†à²šà³à²šà²¿à²¨ à²…à²ªà²¾à²¯ à²Žà²šà³à²šà²°à²¿à²•à³†à²—à²³à³", hi: "à¤‰à¤šà¥à¤š à¤œà¥‹à¤–à¤¿à¤® à¤…à¤²à¤°à¥à¤Ÿ" },
  "visit.tracking": { en: "Visit & Follow-Up", kn: "à²­à³‡à²Ÿà²¿ à²®à²¤à³à²¤à³ à²…à²¨à³à²¸à²°à²£à³†", hi: "à¤µà¤¿à¤œà¤¼à¤¿à¤Ÿ à¤”à¤° à¤«à¥‰à¤²à¥‹-à¤…à¤ª" },
  "reports": { en: "Reports", kn: "à²µà²°à²¦à²¿à²—à²³à³", hi: "à¤°à¤¿à¤ªà¥‹à¤°à¥à¤Ÿ" },
  "low": { en: "Low", kn: "à²•à²¡à²¿à²®à³†", hi: "à¤•à¤®" },
  "medium": { en: "Medium", kn: "à²®à²§à³à²¯à²®", hi: "à¤®à¤§à¥à¤¯à¤®" },
  "high": { en: "High", kn: "à²¹à³†à²šà³à²šà²¿à²¨", hi: "à¤‰à¤šà¥à¤š" },
  "notifications": { en: "Notifications", kn: "à²…à²§à²¿à²¸à³‚à²šà²¨à³†à²—à²³à³", hi: "à¤¸à¥‚à¤šà¤¨à¤¾à¤à¤‚" },
  "install.app": { en: "ðŸ“² Install App", kn: "ðŸ“² à²…à²ªà³à²²à²¿à²•à³‡à²¶à²¨à³ à²‡à²¨à³â€Œà²¸à³à²Ÿà²¾à²²à³ à²®à²¾à²¡à²¿", hi: "ðŸ“² à¤à¤ª à¤‡à¤‚à¤¸à¥à¤Ÿà¥‰à¤² à¤•à¤°à¥‡à¤‚" },
};

interface LanguageContextType {
  lang: Lang;
  setLang: (l: Lang) => void;
  t: (key: string) => string;
}

const LanguageContext = createContext<LanguageContextType>({
  lang: "en",
  setLang: () => {},
  t: (key) => key,
});

export const LanguageProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [lang, setLang] = useState<Lang>("en");
  const t = (key: string) => translations[key]?.[lang] || key;

  return (
    <LanguageContext.Provider value={{ lang, setLang, t }}>
      {children}
    </LanguageContext.Provider>
  );
};

export const useLanguage = () => useContext(LanguageContext);
